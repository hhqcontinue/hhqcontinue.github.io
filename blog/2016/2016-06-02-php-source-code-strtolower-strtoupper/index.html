<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="[PHP源码阅读]strtolower和strtoupper函数" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://hoohack.me/blog/2016/2016-06-02-php-source-code-strtolower-strtoupper/" />
  <link rel="stylesheet" href="/styles/main.css">
  <link rel="me" href="https://mas.to/@djyde">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/themes/prism.min.css">
  
  <title>[PHP源码阅读]strtolower和strtoupper函数 | Hoohack&#39;s Blog</title>
  
  <script async src="https://ana.hoohack.me/ana.js" data-website-id="380499a9-5e2b-4320-bb7d-fc6bb57fdf79"></script>
</head>
<body>
  
<div>
  <div class="container mx-auto prose py-12 sm:py-24 px-12 sm:px-0">
    <div class="mb-12">
      <a class="no-underline font-bold" href="/">Hoohack&#39;s Blog</a>
    </div>
    <h1>[PHP源码阅读]strtolower和strtoupper函数</h1>
    <div class="italic text-gray-500">
      2016/06/02
    </div>
    <div>
      <p>字符串的操作函数中，字符串的大小写转换也算是比较常用的函数，其底层实现也比较简单，下面来一探究竟。</p>
<p>我在github有对PHP源码更详细的注解。感兴趣的可以围观一下，给个star。<a href="https://github.com/read-php-src/read-php-src">PHP5.4源码注解</a>。可以通过<a href="https://github.com/read-php-src/read-php-src/commits/master">commit记录</a>查看已添加的注解。</p>
<h2 id="strtolower" tabindex="-1">strtolower</h2>
<p>string strtolower ( string $string )</p>
<p>将字符串转换成小写字符。</p>
<h2 id="strtoupper" tabindex="-1">strtoupper</h2>
<p>string strtoupper ( string $string )</p>
<p>将字符串转换成大写字符。</p>
<h2 id="%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B" tabindex="-1">运行示例</h2>
<p>$str = 'Hello World';
$new_str = strtolower($str); // hello world</p>
<p>$str = 'hello world';
$new_str = strupper($str); // HELLO WORLD</p>
<h2 id="%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E6%AD%A5%E9%AA%A4" tabindex="-1">代码运行步骤</h2>
<blockquote>
<p>拷贝一份字符串</p>
<p>php_strtolower/php_strtoupper进行转换</p>
</blockquote>
<h2 id="%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB" tabindex="-1">源码解读</h2>
<p>两个函数的核心操作都差不多，讲一下strtolower，另一个是类似的。
php_strtolower函数的核心代码如下：</p>
<p>c = (unsigned char *)s;
e = c+len;</p>
<p>// 遍历s，逐个变为小写
while (c &lt; e) {
　　*c = tolower(*c);
　　c++;
}
return s;</p>
<p>这个函数就是遍历整个字符串，逐个转成小写字符。这也是一个经典的指针操作。</p>
<p>原创文章，文笔有限，才疏学浅，文中若有不正之处，万望告知。</p>
<p>如果本文对你有帮助，请点下推荐吧，谢谢^_^</p>
<p>最后再安利一下，我在github有对PHP源码更详细的注解。感兴趣的可以围观一下，给个star。<a href="https://github.com/read-php-src/read-php-src">PHP5.4源码注解</a>。可以通过<a href="https://github.com/read-php-src/read-php-src/commits/master">commit记录</a>查看已添加的注解。</p>
<p>更多源码文章，欢迎访问个人主页继续查看：<a href="https://www.hoohack.me">hoohack</a></p>

    </div>
    <hr />
      <div class="text-sm text-center">
        评论和交流请发送邮件到 hoohackhu@gmail.com
      </div>
      <hr />
    <div class="text-center">
<img class="w-64 inline-block" src="https://www.hoohack.me/assets/images/reward.jpeg" alt="" />
<div class="text-sm">
通过赞赏码赞助此文
</div>
</div>
    <footer class="text-sm py-12 text-gray-500 text-center">
  Hoohack's Blog since 2014
</footer>
  </div>

</div>



</body>
</html>